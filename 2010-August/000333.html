<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] Fwd:  automated nightly build &amp; test
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20Fwd%3A%20%20automated%20nightly%20build%20%26%20test&In-Reply-To=%3C4C7C07DF.8030800%40lanl.gov%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000332.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] Fwd:  automated nightly build &amp; test</H1>
    <B>Stephen Price</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20Fwd%3A%20%20automated%20nightly%20build%20%26%20test&In-Reply-To=%3C4C7C07DF.8030800%40lanl.gov%3E"
       TITLE="[Glimmer-cism-devel] Fwd:  automated nightly build &amp; test">sprice at lanl.gov
       </A><BR>
    <I>Mon Aug 30 21:34:55 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000332.html">[Glimmer-cism-devel] automated nightly build &amp; test
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#333">[ date ]</a>
              <a href="thread.html#333">[ thread ]</a>
              <a href="subject.html#333">[ subject ]</a>
              <a href="author.html#333">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Sarah,

Thanks for the work on this. It should save us a lot of headaches in the 
future (headaches we've had a lot during the last few weeks).

It would be good to add (1) the ISMIP-HOM tests at some point, or at 
least one or two of them (say 40 km domain size for both the sliding and 
non-sliding cases), (2) the simple confined shelf test case (to check 
that we haven't broken the code w.r.t. floating ice bcs and/or free slip 
at the bed), (3) the 'hump' test case w/ dH/dt evolution (to check that 
we haven't broken our advection code, as we did recently - note that 
currently this test case is diagnostic, not prognostic, but that can be 
changed now that the advection code is working again), and ultimately, 
the Ross Ice Shelf test case (which is probably the most difficult one).

On your end, I think this means just duplicating some existing scripts 
w/ slightly different paths, filenames, etc. More importantly, we need 
to generate the gold standards for these test cases and I should 
probably contribute to that work.

As part of the work on the parallel model, we are in the process of 
reviewing all of the existing tests (for the HO code anyway) and 
checking to make sure they work and that the output makes sense. When 
I've got some updated gold standards, I'll be happy to contribute them 
(with the caveat that they are still evolving a bit in some cases).

Please keep me posted on when you would be ready to receive such files, 
where they will be stored, etc.

cheers -

Steve



&gt;<i> Hi developers,
</I>&gt;<i> 
</I>&gt;<i> I have been working with Gethin Williams to prepare a script to run 
</I>&gt;<i> automatic tests for glimmer. A while ago a list of useful tests was 
</I>&gt;<i> circulated on the developers list (by Bill Lipscomb) .
</I>&gt;<i> 
</I>&gt;<i> To make a start with this, I have written a script to run the EISMINT-2 
</I>&gt;<i> tests on the glimmer-cism trunk.
</I>&gt;<i> 
</I>&gt;<i> Here is a brief outline of how the script would work.
</I>&gt;<i> 
</I>&gt;<i> A rule in the makefile would invoke the script so that typing &#8220;make test 
</I>&gt;<i> &lt;experiment_type&gt; &lt;experiment_number&gt;&#8221; would run a test. I am not 
</I>&gt;<i> familiar with autoconf, so, I would need some assistance to create this 
</I>&gt;<i> rule in the Makefile.
</I>&gt;<i> 
</I>&gt;<i> The script then does the following
</I>&gt;<i> 
</I>&gt;<i> a. Check out the configuration files for the tests
</I>&gt;<i> b. Check out the golden standard files for the tests
</I>&gt;<i> c. Compile a tool to compare two neCDF files.
</I>&gt;<i> d. Run glimmer for each configuration file in the test.
</I>&gt;<i> e. Compare the output of the runs to the gold standard and report back 
</I>&gt;<i> if the tests passed or not.
</I>&gt;<i> 
</I>&gt;<i> The nightly build script checks out the code, builds it and runs the 
</I>&gt;<i> test script.
</I>&gt;<i> 
</I>&gt;<i> I was wondering where would be the best place to store the golden 
</I>&gt;<i> standard files and configuration files on the repository?
</I>&gt;<i> 
</I>&gt;<i> Currently, the output of the EISMINT-2 tests is quiet large (1.18GB or 
</I>&gt;<i> 436 MB zipped). This is reduced to 41MB if we output every 40000 years 
</I>&gt;<i> instead of 1000.
</I>&gt;<i> 
</I>&gt;<i> If you have any suggestions on that or the design, then let me know,
</I>&gt;<i> 
</I>&gt;<i> All the best,
</I>&gt;<i> 
</I>&gt;<i> Sarah
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000332.html">[Glimmer-cism-devel] automated nightly build &amp; test
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#333">[ date ]</a>
              <a href="thread.html#333">[ thread ]</a>
              <a href="subject.html#333">[ subject ]</a>
              <a href="author.html#333">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
