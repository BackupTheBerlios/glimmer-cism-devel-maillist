<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] Fwd: dycore proposal
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20Fwd%3A%20dycore%20proposal&In-Reply-To=%3C4C77C503.6020509%40swansea.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000319.html">
   <LINK REL="Next"  HREF="000321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] Fwd: dycore proposal</H1>
    <B>Ian Rutt</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20Fwd%3A%20dycore%20proposal&In-Reply-To=%3C4C77C503.6020509%40swansea.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] Fwd: dycore proposal">I.C.Rutt at swansea.ac.uk
       </A><BR>
    <I>Fri Aug 27 16:00:35 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000319.html">[Glimmer-cism-devel] Fwd: dycore proposal
</A></li>
        <LI>Next message: <A HREF="000321.html">[Glimmer-cism-devel] Fwd: dycore proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#320">[ date ]</a>
              <a href="thread.html#320">[ thread ]</a>
              <a href="subject.html#320">[ subject ]</a>
              <a href="author.html#320">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Toby,

&gt;<i> The only way I can think of to be more dynamic would be to dynamically
</I>&gt;<i> link in an external library
</I>
Yes, this is what I had in mind. What you can do (as Jed indicated in 
his recent message), is load an arbitrary number of shared libraries 
while the code is running. This overcomes all three problems you outline.

I had a go at making a toy example work a little while ago. Looking 
through it again, I realise the main difficulty is that it requires two 
features from Fortran 2003: ISO C bindings and procedure pointers, as 
the dynamic loading library (libdl) is part of the standard C library, 
and returns a pointer to the desired procedure. The other issue is one 
of name-mangling: ths fortran code needs to know what the procedure in 
the library file is called.

Ok, it's fiddly, and probably fragile at this stage, which F2003 
features still in development within most compilers (my example needs 
gfortran 4.5 or higher), and perhaps we are not ready for it yet. In 
which case, your suggestion would certainly be an improvement on the 
present arrangements, and could be extended to be dynamic if we desired it.

&gt;<i> I'm agnostic about which branch to use.  -lanl was suggested by Bill:
</I>&gt;<i> maybe this is a steering committee decision?
</I>
I would definitely be in favour of doing the work on a public branch in 
the glimmer-cism2 part of the svn tree, but others may disagree.

Anyway, thanks very much for your contribution to Glimmer-CISM, and welcome.

Best wishes,

Ian

-- 
Dr Ian Rutt
School of the Environment and Society
Swansea University
Singleton Park
Swansea
SA2 8PP
Tel. (01792) 602685
<A HREF="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">i.c.rutt at swansea.ac.uk</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000319.html">[Glimmer-cism-devel] Fwd: dycore proposal
</A></li>
	<LI>Next message: <A HREF="000321.html">[Glimmer-cism-devel] Fwd: dycore proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#320">[ date ]</a>
              <a href="thread.html#320">[ thread ]</a>
              <a href="subject.html#320">[ subject ]</a>
              <a href="author.html#320">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
