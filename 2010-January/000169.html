<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] suggested glimmer-cism GCM interface changes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20suggested%20glimmer-cism%20GCM%20interface%20changes&In-Reply-To=%3CFF28FB8BC09241B03C8B4245%40geog-bsq72.ggy.bris.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000168.html">
   <LINK REL="Next"  HREF="000170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] suggested glimmer-cism GCM interface changes</H1>
    <B>Rupert Gladstone</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20suggested%20glimmer-cism%20GCM%20interface%20changes&In-Reply-To=%3CFF28FB8BC09241B03C8B4245%40geog-bsq72.ggy.bris.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] suggested glimmer-cism GCM interface changes">R.Gladstone at bristol.ac.uk
       </A><BR>
    <I>Mon Jan 25 18:27:01 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000168.html">[Glimmer-cism-devel] plans for 2010
</A></li>
        <LI>Next message: <A HREF="000170.html">[Glimmer-cism-devel] suggested glimmer-cism GCM interface changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#169">[ date ]</a>
              <a href="thread.html#169">[ thread ]</a>
              <a href="subject.html#169">[ subject ]</a>
              <a href="author.html#169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Dear glimmer-cism developers,
the GCM/glimmer-cism interface (i.e. the part of glint that talks to the 
climate model) is expanding with recent/planned developments (such as 
altitude tiling for surface mass balance and incorporating a plume model 
that will want to talk to the ocean GCM) and I was wondering whether it 
might be time to think about breaking away from the current approach of 
carrying out the entire exchange between GCM and glimmer-cism in one large 
subroutine call with many optional arguments (19 last time I checked) and 
instead present the GCM with a number of smaller calls, only some of which 
will actually be called depending on how the GCM wants to run.  This 
follows on from conversations I've had with Bill and Ian last year.  To 
this end I attach a 'straw man' written in a combination of fortran and 
pseudo code for how the new interface might look.  If you want to play 
around with the straw man feel free to check it in somewhere - I don't know 
where to put it, I'm quite out of touch with all the different branches 
there seem to be.

I think the main advantages will be ease of development and reduced chance 
of bugs on both the GCM and glimmer-cism side of the interface.  I think if 
we keep on expanding the large call we have at the moment we increase the 
risk of bugs creeping in on both sides as the GCM builds up its long list 
of arguments and glimmer-cism tries to decide what to do with them all.

I can't see any obvious disadvantages.

Questions:
Do you think this is a good idea in general?
If so, do you mind implementation being incremental? (We can add new 
functionality in this more modular way without having to undo the current 
large subroutine call if we don't have resource to do it all at once)
Do you have any specific comments on the 'straw man'?
If we take this route, which branch should we use?  I am quite out of touch 
with the different branches.

Cheers,
Rupert


-------------------------------
Rupert Gladstone
School of Geographical Sciences
University of Bristol
University Road
Bristol BS8 1SS
Tel +44 (0) 117 33 14154
-------------- next part --------------
A non-text attachment was scrubbed...
Name: glint_gcm_interface_strawman.f90
Type: application/octet-stream
Size: 11082 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/glimmer-cism-devel/attachments/20100125/2502d7fb/attachment.obj">https://lists.berlios.de/pipermail/glimmer-cism-devel/attachments/20100125/2502d7fb/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000168.html">[Glimmer-cism-devel] plans for 2010
</A></li>
	<LI>Next message: <A HREF="000170.html">[Glimmer-cism-devel] suggested glimmer-cism GCM interface changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#169">[ date ]</a>
              <a href="thread.html#169">[ thread ]</a>
              <a href="subject.html#169">[ subject ]</a>
              <a href="author.html#169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
