<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] glimmer test suite
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-October/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20glimmer%20test%20suite&In-Reply-To=%3C64A6A9460F427E4D9D4319FF%40geog-a81.ggy.bris.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000370.html">
   <LINK REL="Next"  HREF="000372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] glimmer test suite</H1>
    <B>DAG Williams, Geographical Sciences</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20glimmer%20test%20suite&In-Reply-To=%3C64A6A9460F427E4D9D4319FF%40geog-a81.ggy.bris.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] glimmer test suite">Gethin.Williams at bristol.ac.uk
       </A><BR>
    <I>Fri Oct  8 12:57:03 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000370.html">[Glimmer-cism-devel] Glimmer-CISM 1.7.0: EISMINT 1 oddity
</A></li>
        <LI>Next message: <A HREF="000372.html">[Glimmer-cism-devel] glimmer testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#371">[ date ]</a>
              <a href="thread.html#371">[ thread ]</a>
              <a href="subject.html#371">[ subject ]</a>
              <a href="author.html#371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Magi &amp; all,

I take your point about binary diffs and repository bloat.  It's definitely 
a cause for concern.  However, I would still argue that keeping the 
reference files in the repository is preferable.

In the GENIE project, I've kept reference files in the repository (for 
several years now) and the size of the repos hasn't got out of control. 
One reason for this has been a drive to keep the reference files absolutely 
as small as possible.  For example, we could output values only at the end 
of a run (and also perhaps midway) etc.

The differencing tool allows for tolerances (both absolute &amp; relative) and 
so we can accommodate small differences (say due to compilers).  I believe 
that, in the absence of choas, we should strive for bitwise agreement in 
various ways, however.  (e.g. even the UM is bitwise comparable for 
different domain decompositions.)

In the GENIE project, I created 2 test suites.  One short one for users. 
This is akin to a calibration run--&quot;before doing my expts, is the model 
working correctly?&quot;.  The a long test suite--to run automatically 
overnight--which exercises the model more fully.  The results are then 
emailed if a test fails.

Cheers,
Gethin.

--On 06 October 2010 12:00 +0200 
<A HREF="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">glimmer-cism-devel-request at lists.berlios.de</A> wrote:

&gt;<i>
</I>&gt;<i> Hi Gethin,
</I>&gt;<i> the reference files are autogenerated relatively large binary files.
</I>&gt;<i> Subversion is not particularly well suited to keep track of them, more
</I>&gt;<i> importantly, binary diffs are meaningless. Large (even when small) will
</I>&gt;<i> lead to bloat in the subversion repo and we have to be careful to
</I>&gt;<i> restrict ourselves to small reference files.
</I>&gt;<i>
</I>&gt;<i> If we wanted to we could add a script that automatically downloads a
</I>&gt;<i> tar-ball and unpacks and installs it somewhere.
</I>&gt;<i>
</I>&gt;<i> However, I am convinced that we will end up with a number of personal
</I>&gt;<i> reference files, because of differences in compiler, architecture,
</I>&gt;<i> solver, etc used. So, being able to just run tests in a known good
</I>&gt;<i> source tree and pointing configure of the experimental source tree at
</I>&gt;<i> the good source tree for comparison would be very useful.
</I>&gt;<i>
</I>&gt;<i> Another question is who will run the comparisons? I don't think a normal
</I>&gt;<i> user will need to run the comparisons. They might run the tests to see
</I>&gt;<i> how it works. The comparisons are more useful to developers who change
</I>&gt;<i> the code and want to make sure that they haven't broken anything new.
</I>&gt;<i> The other use is for us when we prepare a new release to check that
</I>&gt;<i> things still work as expected.
</I>&gt;<i>
</I>&gt;<i> So, I'd strongly prefer to keep data files elsewhere.
</I>&gt;<i>
</I>&gt;<i> magi
</I>


Cheers,
Gethin.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000370.html">[Glimmer-cism-devel] Glimmer-CISM 1.7.0: EISMINT 1 oddity
</A></li>
	<LI>Next message: <A HREF="000372.html">[Glimmer-cism-devel] glimmer testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#371">[ date ]</a>
              <a href="thread.html#371">[ thread ]</a>
              <a href="subject.html#371">[ subject ]</a>
              <a href="author.html#371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
