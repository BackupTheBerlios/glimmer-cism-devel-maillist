<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] Problem with gfortran and iargc
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20Problem%20with%20gfortran%20and%20iargc&In-Reply-To=%3C1317081092.2171.6.camel%40bacon%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000472.html">
   <LINK REL="Next"  HREF="000477.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] Problem with gfortran and iargc</H1>
    <B>Magnus Hagdorn</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20Problem%20with%20gfortran%20and%20iargc&In-Reply-To=%3C1317081092.2171.6.camel%40bacon%3E"
       TITLE="[Glimmer-cism-devel] Problem with gfortran and iargc">Magnus.Hagdorn at ed.ac.uk
       </A><BR>
    <I>Tue Sep 27 01:51:32 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000472.html">[Glimmer-cism-devel] Problem with gfortran and iargc
</A></li>
        <LI>Next message: <A HREF="000477.html">[Glimmer-cism-devel] Problem with gfortran and iargc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#476">[ date ]</a>
              <a href="thread.html#476">[ thread ]</a>
              <a href="subject.html#476">[ subject ]</a>
              <a href="author.html#476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2011-09-26 at 15:27 -0400, Bob wrote:

&gt;<i> 
</I>&gt;<i> On Sep 26, 2011, at 3:04 PM, Bob wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; More problems compiling glimmer-cism2 with gfortran.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; In linking:
</I>&gt;<i> &gt; ../../../libglimmer/.libs/libglimmer.a(glimmer_commandline.o): In
</I>&gt;<i> &gt; function `__glimmer_commandline_MOD_glimmer_getcommandline':
</I>&gt;<i> &gt; glimmer_commandline.F90:(.text+0x512): undefined reference to
</I>&gt;<i> &gt; `iargc_'
</I>&gt;<i> &gt; collect2: ld returned 1 exit status
</I>
&gt;<i> &gt; And yet, on line 60, it seems to rely on iargc being available:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;     integer, external :: iargc
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; How should this get fixed?
</I>&gt;<i> &gt; 
</I>

Hi Bob,
that's odd. It works for me on gc-trunk (berlios). I tried both gcc v
4.5.2 and 4.1.2. Which version of gcc are you using? Which OS? Well, if
we need to remove that then we should use a preprocessor macro, along
the lines of


#ifndef HAVE_2003ARGS
integer, external :: iargc
#endif

In general, commenting out code is not very helpful because it just
clutters up the source code without adding any functionality. The
history can be found in subversion.

Cheers
magi


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000472.html">[Glimmer-cism-devel] Problem with gfortran and iargc
</A></li>
	<LI>Next message: <A HREF="000477.html">[Glimmer-cism-devel] Problem with gfortran and iargc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#476">[ date ]</a>
              <a href="thread.html#476">[ thread ]</a>
              <a href="subject.html#476">[ subject ]</a>
              <a href="author.html#476">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
