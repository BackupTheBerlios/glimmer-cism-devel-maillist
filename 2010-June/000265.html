<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] applying scale_factor in python
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20applying%20scale_factor%20in%20python&In-Reply-To=%3C4C0E6D12.1060101%40ed.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] applying scale_factor in python</H1>
    <B>Magnus Hagdorn</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20applying%20scale_factor%20in%20python&In-Reply-To=%3C4C0E6D12.1060101%40ed.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] applying scale_factor in python">Magnus.Hagdorn at ed.ac.uk
       </A><BR>
    <I>Tue Jun  8 18:17:22 CEST 2010</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000266.html">[Glimmer-cism-devel] applying scale_factor in python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
I am trying to figure out the best way to apply the scale_factor to data 
loaded from netCDF file. Scientific.IO.NetCDF does not support this in a 
transparent way. netCDF4 does, provided the add_offset attribute is also 
present. There are a number of options:
1. rely on netCDF4 to do the scaling transparently - if you don't have 
the netCDF4 module you don't get scaled variables. It also automatically 
masks the array if there are missing values.
2. wrap the netCDF module in some clever way so that we can 
transparently apply the scale factor
3. apply it by hand whenever we access a variable

Option 2 would be neat if someone can think of how to do that. You don't 
seem to be able to inherit from Scientific.IO.NetCDF.NetCDFFile. So we 
would need to write some form of wrapper.

Option 3 is a recipe for disaster. We are bound to forget instances 
where we need to apply the scaling.

So, I tend to option 1 and make netCDF4 a requirement. We would then 
also need to add the add_offset attribute for scaled variables. I don't 
think netCDF4 is packaged for debian or ubuntu. It does come with 
enthought python distribution though so mac and windows users will be 
fine, linux users can install it from source relatively easily.

what do you think?

cheers
magi

-- 
The University of Edinburgh is a charitable body, registered in
Scotland, with registration number SC005336.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000266.html">[Glimmer-cism-devel] applying scale_factor in python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
