<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] glimmer test suite
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20glimmer%20test%20suite&In-Reply-To=%3C4CED2123.4080204%40ed.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000380.html">
   <LINK REL="Next"  HREF="000384.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] glimmer test suite</H1>
    <B>Magnus Hagdorn</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20glimmer%20test%20suite&In-Reply-To=%3C4CED2123.4080204%40ed.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] glimmer test suite">Magnus.Hagdorn at ed.ac.uk
       </A><BR>
    <I>Wed Nov 24 15:28:51 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000380.html">[Glimmer-cism-devel] glimmer test suite
</A></li>
        <LI>Next message: <A HREF="000384.html">[Glimmer-cism-devel] glimmer test suite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#381">[ date ]</a>
              <a href="thread.html#381">[ thread ]</a>
              <a href="subject.html#381">[ subject ]</a>
              <a href="author.html#381">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Sarah,
as a general request, could you add to the ChangeLog file whenever you 
commit something. Each modified/added/deleted file should have an entry.
You should limit the number of character per line to 79 so it fits into 
a standard terminal.

Sarah Shannon wrote:
&gt;<i> The changes are checked in. Perhaps we can start merging to the parallel 
</I>&gt;<i> branch now, as we are keen to have the HO tests working there.
</I>&gt;<i> 
</I>
not quite there yet. I have slightly modified your change so that the 
gold standard mirrors the same directory layout as the build directory. 
This means that you can run all the tests in one build directory and 
which is pointed at as the gold standard by another build directory.

I would also like you to add another rule to the extra_rules file called
check-data. This will run the compare rule on all the data files 
produced by the data rule. you can use make macros to munch the list of 
data files held in $(DATA). Have a look at the make docs, here
<A HREF="http://www.gnu.org/software/make/manual/html_node/Functions.html#Functions">http://www.gnu.org/software/make/manual/html_node/Functions.html#Functions</A>
you'll need to strip the suffix .nc and add compare-.

you will also need to add check-data rules throughout the Makefiles.am 
in analogy to the data rules so you can run make check-data in the 
top-level directory and everything will happen automatically.

&gt;<i> Regarding the tar ball.  Do you mean use autoconf to generate a tar ball 
</I>&gt;<i> to put on the berlios ftp server? I am not quite why that would be 
</I>&gt;<i> preferable to just putting a regular tar file there. Let me know what 
</I>&gt;<i> you think.
</I>&gt;<i> 
</I>
hm, I had a quick check and there is no obvious way of rolling another 
tarball. So maybe adding another rule (say dist-golden-standard) in the 
top-level Makefile.am which tars and gzip's all the .nc files it can 
find might do the trick. just use find to get all nc files.

alternatively, we could add yet another option to configure which when 
enabled distributes the data files along with the sources. in which case 
i would set the default gold-standard directory to be the top_srcdir. 
you can conditionally add the data files by using an automake 
conditional and appending to the EXTRA_DIST variable. Have a look at the 
top level Makefile.am where I use exactly this pattern.

you are going to be an autotools expert by the end of this :-)

magi



-- 
The University of Edinburgh is a charitable body, registered in
Scotland, with registration number SC005336.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000380.html">[Glimmer-cism-devel] glimmer test suite
</A></li>
	<LI>Next message: <A HREF="000384.html">[Glimmer-cism-devel] glimmer test suite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#381">[ date ]</a>
              <a href="thread.html#381">[ thread ]</a>
              <a href="subject.html#381">[ subject ]</a>
              <a href="author.html#381">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
