<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] exact restart again
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20exact%20restart%20again&In-Reply-To=%3C9EB13903AA22ACFDB09680A3%40geog-a81.ggy.bris.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000208.html">
   <LINK REL="Next"  HREF="000210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] exact restart again</H1>
    <B>DAG Williams, Geographical Sciences</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20exact%20restart%20again&In-Reply-To=%3C9EB13903AA22ACFDB09680A3%40geog-a81.ggy.bris.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] exact restart again">Gethin.Williams at bristol.ac.uk
       </A><BR>
    <I>Tue Feb 23 11:18:46 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000208.html">[Glimmer-cism-devel] exact restart again
</A></li>
        <LI>Next message: <A HREF="000210.html">[Glimmer-cism-devel] exact restart again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Bill &amp; all,

Concern about space (disk and memory) is a very valid point, and it could 
well make sense for us to use single precision for diagnostic fields.

However, given that the single NetCDF file approach is so much simpler to 
implement and so much more robust to potential bugs, I wonder whether we 
could pool some information about run-time memory usage and output file 
size?

For example, I'm running a simple version of glimmer with genie right now, 
and the memory footprint is very modest indeed.  Does memory usage climb 
dramatically when we switch to HO physics etc?  If it is a modest hit in 
terms of memory &amp; disk, could we trade it against simpler code, without 
duplication?  Or--looking forward to antarctic scale runs--is the bloat too 
large to accommodate?

Best wishes,
Gethin.

--On 22 February 2010 12:49 -0700 William Lipscomb &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">lipscomb at lanl.gov</A>&gt; 
wrote:

&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> Just a minor followup.  The netCDF scale factors will indeed simplify the
</I>&gt;<i> code.  But restart variables need to be written in double precision,
</I>&gt;<i> whereas I assume we want single precision for diagnostics.  For this
</I>&gt;<i> reason it may still make sense to define hotstart variables in addition
</I>&gt;<i> to diagnostic variables.   Else we'll waste a lot of memory storing
</I>&gt;<i> double-precision fields (such as temperature) in diagnostic files.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Bill
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Feb 15, 2010, at 11:23 AM, DAG Williams, Geographical Sciences wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've attached a simple NetCDF file (2d.nc).  I added 'scale_factor'
</I>&gt;&gt;<i> and 'add_offset' attributes to the only variable (temperature).  You
</I>&gt;&gt;<i> can try opening the file with various viewing packages:- panoply,
</I>&gt;&gt;<i> ncview, ferret, for example.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> All of these packages apply the scale and offset automatically--the
</I>&gt;&gt;<i> data values are in the range 0.01 to 0.32, but the displayed
</I>&gt;&gt;<i> temperatures are between 2.05 and 3.20 celsius (scale_factor=5.0,
</I>&gt;&gt;<i> add_offset=2.0).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Echoing the comments of Jed &amp; Bill, amongst others, this facility
</I>&gt;&gt;<i> neatly copes with the need for scaled data in the calculations /and/
</I>&gt;&gt;<i> the provision of data in meaningful units for diagnostics.  We would
</I>&gt;&gt;<i> not need duplicate outputs on two different scales--one set of
</I>&gt;&gt;<i> output files would be sufficient for both restarts and diagnostics.
</I>&gt;&gt;<i> Occam's razor prefers it, and one set of files gives a much less
</I>&gt;&gt;<i> fertile ground for bugs.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i> Gethin. &lt;2d.nc&gt;_______________________________________________
</I>&gt;&gt;<i> Glimmer-cism-devel mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">Glimmer-cism-devel at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel</A>
</I>&gt;<i>
</I>&gt;<i> *************************************************************************
</I>&gt;<i> ******
</I>&gt;<i> William H. Lipscomb					E-mail: <A HREF="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">lipscomb at lanl.gov</A>
</I>&gt;<i> Los Alamos National Laboratory		Phone: (505) 667-0395
</I>&gt;<i> Group T-3, Mail Stop B216			Fax: (505) 665-5926
</I>&gt;<i> Los Alamos, NM 87545
</I>&gt;<i> *************************************************************************
</I>&gt;<i> ******
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000208.html">[Glimmer-cism-devel] exact restart again
</A></li>
	<LI>Next message: <A HREF="000210.html">[Glimmer-cism-devel] exact restart again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
