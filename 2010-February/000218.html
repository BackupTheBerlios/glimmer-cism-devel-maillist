<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] scaled netCDF I/O for glimmer-cism-gcm
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20scaled%20netCDF%20I/O%20for%20glimmer-cism-gcm&In-Reply-To=%3C4B87F268.2030005%40ed.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000217.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] scaled netCDF I/O for glimmer-cism-gcm</H1>
    <B>Magnus Hagdorn</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20scaled%20netCDF%20I/O%20for%20glimmer-cism-gcm&In-Reply-To=%3C4B87F268.2030005%40ed.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] scaled netCDF I/O for glimmer-cism-gcm">Magnus.Hagdorn at ed.ac.uk
       </A><BR>
    <I>Fri Feb 26 17:10:16 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000217.html">[Glimmer-cism-devel] Northern Hemisphere grid for CISM
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#218">[ date ]</a>
              <a href="thread.html#218">[ thread ]</a>
              <a href="subject.html#218">[ subject ]</a>
              <a href="author.html#218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
as discussed earlier, I have implemented scaled netCDF I/O on the 
glimmer-cism-gcm branch. The patch changes netCDF I/O as follows:
* variables in output files have the attribute scale_factor set to the 
scaling factor if present.
* output variables are not scaled on output
* when data is read from file we check if the scale_factor attribute is 
present. If it is present then no scaling is applied. If the attribute 
is not present, the variable is scaled using the scaling factors.

The attribute scale_factor is part of the CF standard (and other 
standards) and most netCDF viewers use the attribute to scale variables.

Above scheme has an obvious problem in that if the scale factors in the 
netCDF file are different from the expected ones we get the wrong 
values. Well, in short we don't support arbitrarily scaled variables...

Cheers
magi

-- 
The University of Edinburgh is a charitable body, registered in
Scotland, with registration number SC005336.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000217.html">[Glimmer-cism-devel] Northern Hemisphere grid for CISM
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#218">[ date ]</a>
              <a href="thread.html#218">[ thread ]</a>
              <a href="subject.html#218">[ subject ]</a>
              <a href="author.html#218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
