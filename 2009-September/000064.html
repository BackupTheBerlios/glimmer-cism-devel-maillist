<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glimmer-cism-devel] refactoring document
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/glimmer-cism-devel/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20refactoring%20document&In-Reply-To=%3C4AB3A990.9030003%40swansea.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000063.html">
   <LINK REL="Next"  HREF="000065.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glimmer-cism-devel] refactoring document</H1>
    <B>Ian Rutt</B> 
    <A HREF="mailto:glimmer-cism-devel%40lists.berlios.de?Subject=Re%3A%20%5BGlimmer-cism-devel%5D%20refactoring%20document&In-Reply-To=%3C4AB3A990.9030003%40swansea.ac.uk%3E"
       TITLE="[Glimmer-cism-devel] refactoring document">I.C.Rutt at swansea.ac.uk
       </A><BR>
    <I>Fri Sep 18 17:38:56 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000063.html">[Glimmer-cism-devel] refactoring document
</A></li>
        <LI>Next message: <A HREF="000065.html">[Glimmer-cism-devel] refactoring document
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64">[ date ]</a>
              <a href="thread.html#64">[ thread ]</a>
              <a href="subject.html#64">[ subject ]</a>
              <a href="author.html#64">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi All,

I made a few additions to the refactoring doc, although I think it's 
good as it stands.

I've also had a go at refactoring the calculation of Glen's A on the 
GCISM2-refactor-ICR branch, as an example of what a refactored component 
might look like. It's a small thing, so it didn't take too much effort.

It illustrates the main problems, though - some tightly-coupled code, 
and stuff connected/stored in odd places. In this case, the code was in 
glide_velo.F90, despite being only called from glide_temp.F90. I've 
relocated it into glide_glenflow.F90, and given it it's own config type 
for parameters.

There's much more that could be done with even this example (doxygen, 
for a start), and the place it's called from is still buried in the 
temperature subroutine. This in itself needs dividing into three, since 
we have three methods of calculating T...

Anyway, please look at it and see how well it accords with your ideas. 
It was just something I knocked up this afternoon.

Have a good weekend,

Ian

Magnus Hagdorn wrote:
&gt;<i> On Fri, 2009-09-18 at 10:11 +0100, Magnus Hagdorn wrote:
</I>&gt;&gt;<i> Please edit it :-)
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It would help if I added the link as well:
</I>&gt;<i> <A HREF="http://openfacts2.berlios.de/wikien/index.php/BerliosProject:Glimmer_-_CISM_-_Refactor_Glimmer-CISM">http://openfacts2.berlios.de/wikien/index.php/BerliosProject:Glimmer_-_CISM_-_Refactor_Glimmer-CISM</A>
</I>&gt;<i> 
</I>&gt;<i> magi
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000063.html">[Glimmer-cism-devel] refactoring document
</A></li>
	<LI>Next message: <A HREF="000065.html">[Glimmer-cism-devel] refactoring document
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64">[ date ]</a>
              <a href="thread.html#64">[ thread ]</a>
              <a href="subject.html#64">[ subject ]</a>
              <a href="author.html#64">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/glimmer-cism-devel">More information about the Glimmer-cism-devel
mailing list</a><br>
</body></html>
